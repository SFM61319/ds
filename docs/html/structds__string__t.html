<!-- HTML header for doxygen 1.9.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.9.4" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ds: ds_string_t Struct Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
 <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
 <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
    <script
      type="text/javascript"
      src="doxygen-awesome-darkmode-toggle.js"
    ></script>
    <script
      type="text/javascript"
      src="doxygen-awesome-fragment-copy-button.js"
    ></script>
    <script
      type="text/javascript"
      src="doxygen-awesome-paragraph-link.js"
    ></script>
    <script
      type="text/javascript"
      src="doxygen-awesome-interactive-toc.js"
    ></script>
    <script
      type="text/javascript"
      src="doxygen-awesome-tabs.js"
    ></script>
    <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.lightModeIcon =
        '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 12 2Zm0 15a5 5 0 1 0 0-10 5 5 0 0 0 0 10Zm0-1.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm9.25-2.75a.75.75 0 0 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5h1.5ZM12 19a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 12 19Zm-7.75-6.25a.75.75 0 0 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5h1.5Zm-.03-8.53a.75.75 0 0 1 1.06 0l1.5 1.5a.75.75 0 0 1-1.06 1.06l-1.5-1.5a.75.75 0 0 1 0-1.06Zm1.06 15.56a.75.75 0 1 1-1.06-1.06l1.5-1.5a.75.75 0 1 1 1.06 1.06l-1.5 1.5Zm14.5-15.56a.75.75 0 0 0-1.06 0l-1.5 1.5a.75.75 0 0 0 1.06 1.06l1.5-1.5a.75.75 0 0 0 0-1.06Zm-1.06 15.56a.75.75 0 1 0 1.06-1.06l-1.5-1.5a.75.75 0 1 0-1.06 1.06l1.5 1.5Z" fill="#212121"/></svg>';
      DoxygenAwesomeDarkModeToggle.darkModeIcon =
        '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.026 17.001c-2.762 4.784-8.879 6.423-13.663 3.661A9.965 9.965 0 0 1 3.13 17.68a.75.75 0 0 1 .365-1.132c3.767-1.348 5.785-2.91 6.956-5.146 1.232-2.353 1.551-4.93.689-8.463a.75.75 0 0 1 .769-.927 9.961 9.961 0 0 1 4.457 1.327c4.784 2.762 6.423 8.879 3.66 13.662Zm-8.248-4.903c-1.25 2.389-3.31 4.1-6.817 5.499a8.49 8.49 0 0 0 2.152 1.766 8.502 8.502 0 0 0 8.502-14.725 8.484 8.484 0 0 0-2.792-1.015c.647 3.384.23 6.043-1.045 8.475Z" fill="#dedede"/></svg>';
      DoxygenAwesomeFragmentCopyButton.copyIcon =
        '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.503 4.627 5.5 6.75v10.504a3.25 3.25 0 0 0 3.25 3.25h8.616a2.251 2.251 0 0 1-2.122 1.5H8.75A4.75 4.75 0 0 1 4 17.254V6.75c0-.98.627-1.815 1.503-2.123ZM17.75 2A2.25 2.25 0 0 1 20 4.25v13a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-13A2.25 2.25 0 0 1 8.75 2h9Zm0 1.5h-9a.75.75 0 0 0-.75.75v13c0 .414.336.75.75.75h9a.75.75 0 0 0 .75-.75v-13a.75.75 0 0 0-.75-.75Z"/></svg>';
      DoxygenAwesomeFragmentCopyButton.successIcon =
        '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.53 12.97a.75.75 0 0 0-1.06 1.06l4.5 4.5a.75.75 0 0 0 1.06 0l11-11a.75.75 0 0 0-1.06-1.06L8.5 16.94l-3.97-3.97Z"/></svg>';
      DoxygenAwesomeParagraphLink.icon = "¶";
      DoxygenAwesomeDarkModeToggle.init();
      DoxygenAwesomeFragmentCopyButton.init();
      DoxygenAwesomeParagraphLink.init();
      DoxygenAwesomeInteractiveToc.init();
      // DoxygenAwesomeTabs.init();
    </script>
  </head>
  <body>
      <div id="top">
        <!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0">
            <tbody>
              <tr id="projectrow">
                <td id="projectalign">
                  <div id="projectname">
                    ds<span
                      id="projectnumber"
                      >&#160;0.10.0</span
                    >
                  </div>
                  <div id="projectbrief">A C library to safely yet efficiently work with UTF-8–encoded, growable dynamic strings.</div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- end header part -->
      </div>
    </div>
  </body>
</html>
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structds__string__t.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle"><div class="title">ds_string_t Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A growable string. Will be UTF-8–encoded in the future.  
 <a href="structds__string__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a16833a3669065f1e7464c664042307e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cstr_8h.html#adba5ab6409b8c3d88e892a3a4702ea11">ds_cstr_mut_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structds__string__t.html#a16833a3669065f1e7464c664042307e6">buf</a></td></tr>
<tr class="memdesc:a16833a3669065f1e7464c664042307e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Points to an internal buffer <a class="el" href="structds__string__t.html">String</a> uses to store its data.  <a href="structds__string__t.html#a16833a3669065f1e7464c664042307e6">More...</a><br /></td></tr>
<tr class="separator:a16833a3669065f1e7464c664042307e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af88f8dd794c5eb985dc8d225be6f506f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="usize_8h.html#af225603b1dc0270688232ccab1cc2f52">ds_usize_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structds__string__t.html#af88f8dd794c5eb985dc8d225be6f506f">len</a></td></tr>
<tr class="memdesc:af88f8dd794c5eb985dc8d225be6f506f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of bytes currently stored in the buffer.  <a href="structds__string__t.html#af88f8dd794c5eb985dc8d225be6f506f">More...</a><br /></td></tr>
<tr class="separator:af88f8dd794c5eb985dc8d225be6f506f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a037535c8c8ca824c04ff229521f861ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="usize_8h.html#af225603b1dc0270688232ccab1cc2f52">ds_usize_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structds__string__t.html#a037535c8c8ca824c04ff229521f861ce">cap</a></td></tr>
<tr class="memdesc:a037535c8c8ca824c04ff229521f861ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the buffer in bytes.  <a href="structds__string__t.html#a037535c8c8ca824c04ff229521f861ce">More...</a><br /></td></tr>
<tr class="separator:a037535c8c8ca824c04ff229521f861ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >A growable string. Will be UTF-8–encoded in the future. </p>
<p >The <a class="el" href="structds__string__t.html">String</a> type is the most common string type that has ownership over the contents of the string. It has a close relationship with its standard counterpart, the primitive C-string.</p>
<h3><a class="anchor" id="autotoc_md50"></a>
Examples</h3>
<p >You can create a <a class="el" href="structds__string__t.html">String</a> from a literal string with ds_string_from:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structds__string__t.html">ds_string_t</a> hello;</div>
<div class="line"><a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#a5773e02d022ae19d0f0cd45bba7e1688">ds_string_from</a> (&amp;hello, <span class="stringliteral">&quot;Hello, world!&quot;</span>, 13));</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#afad069dfec98d31ea6f301e63b16bc5f">ds_string_drop</a> (&amp;hello));</div>
<div class="ttc" id="aresult_8h_html_ab3468a78eaefe7fbd589612893f125fb"><div class="ttname"><a href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a></div><div class="ttdeci">#define DS_RESULT_PROPAGATE_ERR(result)</div><div class="ttdoc">Propagates (instantly, possibly early, returns) evaluated result to the calling function only if it i...</div><div class="ttdef"><b>Definition:</b> <a href="result_8h_source.html#l00140">result.h:140</a></div></div>
<div class="ttc" id="astring_8h_html_a5773e02d022ae19d0f0cd45bba7e1688"><div class="ttname"><a href="string_8h.html#a5773e02d022ae19d0f0cd45bba7e1688">ds_string_from</a></div><div class="ttdeci">ds_result_t ds_string_from(ds_string_t *self, ds_cstr_t string, ds_usize_t string_len)</div><div class="ttdoc">Converts a C-string into a String.</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00342">string.c:342</a></div></div>
<div class="ttc" id="astring_8h_html_afad069dfec98d31ea6f301e63b16bc5f"><div class="ttname"><a href="string_8h.html#afad069dfec98d31ea6f301e63b16bc5f">ds_string_drop</a></div><div class="ttdeci">ds_result_t ds_string_drop(ds_string_t *self)</div><div class="ttdoc">Disposes of a value.</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00392">string.c:392</a></div></div>
<div class="ttc" id="astructds__string__t_html"><div class="ttname"><a href="structds__string__t.html">ds_string_t</a></div><div class="ttdoc">A growable string. Will be UTF-8–encoded in the future.</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00162">string.h:163</a></div></div>
</div><!-- fragment --><p >You can append a <a class="el" href="char_8h.html#a2c809211274ede9eddff5a750bdeb5ae">char</a> to a <a class="el" href="structds__string__t.html">String</a> with the <a class="el" href="string_8c.html#a5945540821c750c5406a16cb4a039b4c">ds_string_push</a> method, and append a C-string with the <a class="el" href="string_8c.html#ab04f7e8871804dd52a8f8861ca139bff">ds_string_push_str</a> method:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structds__string__t.html">ds_string_t</a> hello;</div>
<div class="line"><a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#a5773e02d022ae19d0f0cd45bba7e1688">ds_string_from</a> (&amp;hello, <span class="stringliteral">&quot;Hello,&quot;</span>, 6));</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#a2d60d099f66353f62385b97510c31e55">ds_string_push</a> (&amp;hello, <span class="charliteral">&#39; &#39;</span>));</div>
<div class="line"><a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#a7dc370dd28d59e53bdb37a433cee16d8">ds_string_push_str</a> (&amp;hello, <span class="stringliteral">&quot;world!&quot;</span>, 6));</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#afad069dfec98d31ea6f301e63b16bc5f">ds_string_drop</a> (&amp;hello));</div>
<div class="ttc" id="astring_8h_html_a2d60d099f66353f62385b97510c31e55"><div class="ttname"><a href="string_8h.html#a2d60d099f66353f62385b97510c31e55">ds_string_push</a></div><div class="ttdeci">ds_result_t ds_string_push(ds_string_t *self, ds_char_t chr)</div><div class="ttdoc">Appends chr to the end of self.</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00176">string.c:176</a></div></div>
<div class="ttc" id="astring_8h_html_a7dc370dd28d59e53bdb37a433cee16d8"><div class="ttname"><a href="string_8h.html#a7dc370dd28d59e53bdb37a433cee16d8">ds_string_push_str</a></div><div class="ttdeci">ds_result_t ds_string_push_str(ds_string_t *self, ds_cstr_t string, ds_usize_t string_len)</div><div class="ttdoc">Appends string onto the end of self.</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00125">string.c:125</a></div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md51"></a>
Representation</h3>
<p >A <a class="el" href="structds__string__t.html">String</a> is made up of three components: a <a class="el" href="structds__string__t.html#a16833a3669065f1e7464c664042307e6">pointer</a> to some bytes, a <a class="el" href="structds__string__t.html#af88f8dd794c5eb985dc8d225be6f506f">length</a>, and a <a class="el" href="structds__string__t.html#a037535c8c8ca824c04ff229521f861ce">capacity</a>. The pointer points to an internal buffer <a class="el" href="structds__string__t.html">String</a> uses to store its data. The length is the number of bytes currently stored in the buffer, and the capacity is the size of the buffer in bytes. As such, the length will always be less than or equal to the capacity.</p>
<p >This buffer is always stored on the heap.</p>
<p >You can look at these with the <a class="el" href="string_8c.html#abbb1478a0c1ae71ea34d15bce0c04fd7">ds_string_as_ptr</a>, <a class="el" href="string_8c.html#aa4ec35359b6197cfb530fc3a5bafcba5">ds_string_len</a>, and <a class="el" href="string_8c.html#aad8446f5a9a087afeb66fec98b7dd8bc">ds_string_capacity</a> methods:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structds__string__t.html">ds_string_t</a> story;</div>
<div class="line"><a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#a5773e02d022ae19d0f0cd45bba7e1688">ds_string_from</a> (&amp;story, <span class="stringliteral">&quot;Once upon a time...&quot;</span>,</div>
<div class="line">                                         19));</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="cstr_8h.html#a61bae52e31d5f3834166a135566a880f">ds_cstr_t</a> <span class="keyword">const</span> ptr = <a class="code hl_function" href="string_8h.html#a4a1003294f989368751ee5465dbc0c6f">ds_string_as_ptr</a> (story);</div>
<div class="line"><a class="code hl_typedef" href="usize_8h.html#af225603b1dc0270688232ccab1cc2f52">ds_usize_t</a> <span class="keyword">const</span> <a class="code hl_variable" href="structds__string__t.html#af88f8dd794c5eb985dc8d225be6f506f">len</a> = <a class="code hl_function" href="string_8h.html#af83f5cb8676028a4741c2b43b39cb5de">ds_string_len</a> (story);</div>
<div class="line"><a class="code hl_typedef" href="usize_8h.html#af225603b1dc0270688232ccab1cc2f52">ds_usize_t</a> <span class="keyword">const</span> capacity = <a class="code hl_function" href="string_8h.html#ad5431555662030a3c540de7ddffa9b2b">ds_string_capacity</a> (story);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// story has nineteen bytes</span></div>
<div class="line">assert (19 == <a class="code hl_variable" href="structds__string__t.html#af88f8dd794c5eb985dc8d225be6f506f">len</a>);</div>
<div class="line">assert (<a class="code hl_variable" href="structds__string__t.html#af88f8dd794c5eb985dc8d225be6f506f">len</a> &lt;= capacity);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// We can re-build a String out of ptr, len, and capacity. This is all</span></div>
<div class="line"><span class="comment">// unsafe because we are responsible for making sure the components are</span></div>
<div class="line"><span class="comment">// valid:</span></div>
<div class="line"><a class="code hl_struct" href="structds__string__t.html">ds_string_t</a> <span class="keyword">const</span> s = <a class="code hl_function" href="string_8h.html#ab2b4460fb63f22c7283e97c753e52b86">ds_string_from_raw_parts</a> (ptr, <a class="code hl_variable" href="structds__string__t.html#af88f8dd794c5eb985dc8d225be6f506f">len</a>, capacity);</div>
<div class="line"> </div>
<div class="line">assert (<a class="code hl_function" href="string_8h.html#a79f8d99b21effda64e8d8f7fdc26c8a0">ds_string_eq</a> (s, story));</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#afad069dfec98d31ea6f301e63b16bc5f">ds_string_drop</a> (&amp;s));</div>
<div class="line"><a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#afad069dfec98d31ea6f301e63b16bc5f">ds_string_drop</a> (&amp;story));</div>
<div class="ttc" id="acstr_8h_html_a61bae52e31d5f3834166a135566a880f"><div class="ttname"><a href="cstr_8h.html#a61bae52e31d5f3834166a135566a880f">ds_cstr_t</a></div><div class="ttdeci">ds_char_t const  * ds_cstr_t</div><div class="ttdoc">An immutable C-string type.</div><div class="ttdef"><b>Definition:</b> <a href="cstr_8h_source.html#l00028">cstr.h:28</a></div></div>
<div class="ttc" id="astring_8h_html_a4a1003294f989368751ee5465dbc0c6f"><div class="ttname"><a href="string_8h.html#a4a1003294f989368751ee5465dbc0c6f">ds_string_as_ptr</a></div><div class="ttdeci">ds_cstr_t ds_string_as_ptr(ds_string_t self)</div><div class="ttdoc">Converts self to a raw pointer.</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00380">string.c:380</a></div></div>
<div class="ttc" id="astring_8h_html_a79f8d99b21effda64e8d8f7fdc26c8a0"><div class="ttname"><a href="string_8h.html#a79f8d99b21effda64e8d8f7fdc26c8a0">ds_string_eq</a></div><div class="ttdeci">bool ds_string_eq(ds_string_t self, ds_string_t other)</div><div class="ttdoc">This method tests for self and other values to be equal.</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00352">string.c:352</a></div></div>
<div class="ttc" id="astring_8h_html_ab2b4460fb63f22c7283e97c753e52b86"><div class="ttname"><a href="string_8h.html#ab2b4460fb63f22c7283e97c753e52b86">ds_string_from_raw_parts</a></div><div class="ttdeci">ds_string_t ds_string_from_raw_parts(ds_cstr_mut_t buf, ds_usize_t length, ds_usize_t capacity)</div><div class="ttdoc">Creates a new String from a length, capacity, and buf pointer.</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00118">string.c:118</a></div></div>
<div class="ttc" id="astring_8h_html_ad5431555662030a3c540de7ddffa9b2b"><div class="ttname"><a href="string_8h.html#ad5431555662030a3c540de7ddffa9b2b">ds_string_capacity</a></div><div class="ttdeci">ds_usize_t ds_string_capacity(ds_string_t self)</div><div class="ttdoc">Returns self's capacity, in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00135">string.c:135</a></div></div>
<div class="ttc" id="astring_8h_html_af83f5cb8676028a4741c2b43b39cb5de"><div class="ttname"><a href="string_8h.html#af83f5cb8676028a4741c2b43b39cb5de">ds_string_len</a></div><div class="ttdeci">ds_usize_t ds_string_len(ds_string_t self)</div><div class="ttdoc">Returns the length of self, in bytes, not graphemes. In other words, it might not be what a human con...</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00281">string.c:281</a></div></div>
<div class="ttc" id="astructds__string__t_html_af88f8dd794c5eb985dc8d225be6f506f"><div class="ttname"><a href="structds__string__t.html#af88f8dd794c5eb985dc8d225be6f506f">ds_string_t::len</a></div><div class="ttdeci">ds_usize_t len</div><div class="ttdoc">The number of bytes currently stored in the buffer.</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00175">string.h:175</a></div></div>
<div class="ttc" id="ausize_8h_html_af225603b1dc0270688232ccab1cc2f52"><div class="ttname"><a href="usize_8h.html#af225603b1dc0270688232ccab1cc2f52">ds_usize_t</a></div><div class="ttdeci">size_t ds_usize_t</div><div class="ttdoc">The pointer-sized unsigned integer type.</div><div class="ttdef"><b>Definition:</b> <a href="usize_8h_source.html#l00026">usize.h:26</a></div></div>
</div><!-- fragment --><p >If a <a class="el" href="structds__string__t.html">String</a> has enough capacity, adding elements to it will not re-allocate. For example, consider this program:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structds__string__t.html">ds_string_t</a> s = <a class="code hl_function" href="string_8h.html#a899aa04d6ff97d9f60fc0d4384f6f943">ds_string_new</a> ();</div>
<div class="line"> </div>
<div class="line">printf (<span class="stringliteral">&quot;%&quot;</span> <a class="code hl_define" href="usize_8h.html#a4c30f0cc0613fbb63234f2075596dc8b">DS_PRI_USIZE</a> <span class="stringliteral">&quot;\n&quot;</span>, <a class="code hl_function" href="string_8h.html#ad5431555662030a3c540de7ddffa9b2b">ds_string_capacity</a> (s));</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (<a class="code hl_typedef" href="usize_8h.html#af225603b1dc0270688232ccab1cc2f52">ds_usize_t</a> i = <a class="code hl_define" href="usize_8h.html#a2e4064a3bfc2acd50c5465078ebe346d">DS_USIZE_MIN</a>; i &lt; 5; i++)</div>
<div class="line">  {</div>
<div class="line">    <a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#a7dc370dd28d59e53bdb37a433cee16d8">ds_string_push_str</a> (&amp;s, <span class="stringliteral">&quot;hello&quot;</span>, 5));</div>
<div class="line">    printf (<span class="stringliteral">&quot;%&quot;</span> <a class="code hl_define" href="usize_8h.html#a4c30f0cc0613fbb63234f2075596dc8b">DS_PRI_USIZE</a> <span class="stringliteral">&quot;\n&quot;</span>, <a class="code hl_function" href="string_8h.html#ad5431555662030a3c540de7ddffa9b2b">ds_string_capacity</a> (s));</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#afad069dfec98d31ea6f301e63b16bc5f">ds_string_drop</a> (&amp;s));</div>
<div class="ttc" id="astring_8h_html_a899aa04d6ff97d9f60fc0d4384f6f943"><div class="ttname"><a href="string_8h.html#a899aa04d6ff97d9f60fc0d4384f6f943">ds_string_new</a></div><div class="ttdeci">ds_string_t ds_string_new(void)</div><div class="ttdoc">Creates a new empty String.</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00085">string.c:85</a></div></div>
<div class="ttc" id="ausize_8h_html_a2e4064a3bfc2acd50c5465078ebe346d"><div class="ttname"><a href="usize_8h.html#a2e4064a3bfc2acd50c5465078ebe346d">DS_USIZE_MIN</a></div><div class="ttdeci">#define DS_USIZE_MIN</div><div class="ttdoc">The smallest value that can be represented by usize.</div><div class="ttdef"><b>Definition:</b> <a href="usize_8h_source.html#l00049">usize.h:49</a></div></div>
<div class="ttc" id="ausize_8h_html_a4c30f0cc0613fbb63234f2075596dc8b"><div class="ttname"><a href="usize_8h.html#a4c30f0cc0613fbb63234f2075596dc8b">DS_PRI_USIZE</a></div><div class="ttdeci">#define DS_PRI_USIZE</div><div class="ttdoc">usize notation. Can be used in printf to format and write usize values.</div><div class="ttdef"><b>Definition:</b> <a href="usize_8h_source.html#l00091">usize.h:91</a></div></div>
</div><!-- fragment --><p >This may output the following:</p>
<div class="fragment"><div class="line">0</div>
<div class="line">8</div>
<div class="line">16</div>
<div class="line">16</div>
<div class="line">32</div>
<div class="line">32</div>
</div><!-- fragment --><p >At first, we have no memory allocated at all, but as we append to the string, it increases its capacity appropriately. If we instead use the <a class="el" href="string_8c.html#a14a71aff48981a47b7b3abbff92c8c6b">ds_string_with_capacity</a> method to allocate the correct capacity initially:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structds__string__t.html">ds_string_t</a> s;</div>
<div class="line"><a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#a543c755f7554feedd8a5e85e246ca5fe">ds_string_with_capacity</a> (&amp;s, 25));</div>
<div class="line"> </div>
<div class="line">printf (<span class="stringliteral">&quot;%&quot;</span> <a class="code hl_define" href="usize_8h.html#a4c30f0cc0613fbb63234f2075596dc8b">DS_PRI_USIZE</a> <span class="stringliteral">&quot;\n&quot;</span>, <a class="code hl_function" href="string_8h.html#ad5431555662030a3c540de7ddffa9b2b">ds_string_capacity</a> (s));</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (<a class="code hl_typedef" href="usize_8h.html#af225603b1dc0270688232ccab1cc2f52">ds_usize_t</a> i = <a class="code hl_define" href="usize_8h.html#a2e4064a3bfc2acd50c5465078ebe346d">DS_USIZE_MIN</a>; i &lt; 5; i++)</div>
<div class="line">  {</div>
<div class="line">    <a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#a7dc370dd28d59e53bdb37a433cee16d8">ds_string_push_str</a> (&amp;s, <span class="stringliteral">&quot;hello&quot;</span>, 5));</div>
<div class="line">    printf (<span class="stringliteral">&quot;%&quot;</span> <a class="code hl_define" href="usize_8h.html#a4c30f0cc0613fbb63234f2075596dc8b">DS_PRI_USIZE</a> <span class="stringliteral">&quot;\n&quot;</span>, <a class="code hl_function" href="string_8h.html#ad5431555662030a3c540de7ddffa9b2b">ds_string_capacity</a> (s));</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="result_8h.html#ab3468a78eaefe7fbd589612893f125fb">DS_RESULT_PROPAGATE_ERR</a> (<a class="code hl_function" href="string_8h.html#afad069dfec98d31ea6f301e63b16bc5f">ds_string_drop</a> (&amp;s));</div>
<div class="ttc" id="astring_8h_html_a543c755f7554feedd8a5e85e246ca5fe"><div class="ttname"><a href="string_8h.html#a543c755f7554feedd8a5e85e246ca5fe">ds_string_with_capacity</a></div><div class="ttdeci">ds_result_t ds_string_with_capacity(ds_string_t *self, ds_usize_t capacity)</div><div class="ttdoc">Creates a new empty String with at least the specified capacity.</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00091">string.c:91</a></div></div>
</div><!-- fragment --><p >We may end up with a different output:</p>
<div class="fragment"><div class="line">25</div>
<div class="line">25</div>
<div class="line">25</div>
<div class="line">25</div>
<div class="line">25</div>
<div class="line">25</div>
</div><!-- fragment --><p >Here, there's no need to allocate more memory inside the loop. </p>

<p class="definition">Definition at line <a class="el" href="string_8h_source.html#l00162">162</a> of file <a class="el" href="string_8h_source.html">string.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a16833a3669065f1e7464c664042307e6" name="a16833a3669065f1e7464c664042307e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16833a3669065f1e7464c664042307e6">&#9670;&nbsp;</a></span>buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cstr_8h.html#adba5ab6409b8c3d88e892a3a4702ea11">ds_cstr_mut_t</a> ds_string_t::buf</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Points to an internal buffer <a class="el" href="structds__string__t.html">String</a> uses to store its data. </p>
<p >This buffer is always stored on the heap. </p>

<p class="definition">Definition at line <a class="el" href="string_8h_source.html#l00169">169</a> of file <a class="el" href="string_8h_source.html">string.h</a>.</p>

</div>
</div>
<a id="a037535c8c8ca824c04ff229521f861ce" name="a037535c8c8ca824c04ff229521f861ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a037535c8c8ca824c04ff229521f861ce">&#9670;&nbsp;</a></span>cap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="usize_8h.html#af225603b1dc0270688232ccab1cc2f52">ds_usize_t</a> ds_string_t::cap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The size of the buffer in bytes. </p>
<p >The length will always be less than or equal to the capacity. </p>

<p class="definition">Definition at line <a class="el" href="string_8h_source.html#l00181">181</a> of file <a class="el" href="string_8h_source.html">string.h</a>.</p>

</div>
</div>
<a id="af88f8dd794c5eb985dc8d225be6f506f" name="af88f8dd794c5eb985dc8d225be6f506f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af88f8dd794c5eb985dc8d225be6f506f">&#9670;&nbsp;</a></span>len</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="usize_8h.html#af225603b1dc0270688232ccab1cc2f52">ds_usize_t</a> ds_string_t::len</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of bytes currently stored in the buffer. </p>
<p >The length will always be less than or equal to the capacity. </p>

<p class="definition">Definition at line <a class="el" href="string_8h_source.html#l00175">175</a> of file <a class="el" href="string_8h_source.html">string.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/ds/<a class="el" href="string_8h_source.html">string.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structds__string__t.html">ds_string_t</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
